buildscript {
    repositories {
        maven { url "https://plugins.gradle.org/m2/" }
    }
    dependencies {
        classpath 'gradle.plugin.com.matthewprenger:CurseGradle:1.4.0' // To publish to curseforge
        classpath 'com.modrinth.minotaur:Minotaur:2.2.1' // To publish to modrinth
        classpath "net.saliman:gradle-properties-plugin:1.5.1" // To have private properties
        classpath "io.github.crimix:ReplacePlaceholdersPlugin:2.0" // To have dynamic placeholder replacement
    }
}

apply plugin: com.matthewprenger.cursegradle.CurseGradlePlugin // Apply it by fully qualified name
apply plugin: com.modrinth.minotaur.Minotaur // Apply it by fully qualified name
apply plugin: net.saliman.gradle.plugin.properties.PropertiesPlugin // Apply it by fully qualified name
apply plugin: io.github.crimix.replaceplaceholders.ReplacePlaceholdersPlugin // Apply it by fully qualified name
apply plugin: 'idea'
apply plugin: 'java'

// Make sure that UTF-8 is supported
tasks.withType(JavaCompile).configureEach({
    it.options.encoding = 'UTF-8'
})

// Include resources generated by data generators.
sourceSets.main.resources { srcDir 'src/main/generated_resources' }

replaceResourcePlaceholders {
    enabled true
    filesToExpand "META-INF/mods.toml"
    extraProperties "version"
}

repositories {
    maven {
        url "https://www.cursemaven.com"
        content {
            includeGroup "curse.maven"
        }
    }
}

task releaseMods() {

}

tasks.releaseMods.dependsOn(tasks.modrinth, tasks.curseforge)
